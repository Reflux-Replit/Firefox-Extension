<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">

		<title>Reflux</title>

		<script src="api.js" defer></script>
		<script src="main.js" defer></script>
		<script src="parse.js" defer></script>
		<link rel="stylesheet" href="popup.css">
	</head>

	<body>
		<header>
			<h1>Reflux</h1>

			<div>
				<!--
					( todo )
					<button id="search" title="Search">
						<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
					</button>
				-->
				<button id="findbyid" title="Use theme referral code">
					<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10.5 4.5c.28 0 .5.22.5.5v2h6v6h2c.28 0 .5.22.5.5s-.22.5-.5.5h-2v6h-2.12c-.68-1.75-2.39-3-4.38-3s-3.7 1.25-4.38 3H4v-2.12c1.75-.68 3-2.39 3-4.38 0-1.99-1.24-3.7-2.99-4.38L4 7h6V5c0-.28.22-.5.5-.5m0-2C9.12 2.5 8 3.62 8 5H4c-1.1 0-1.99.9-1.99 2v3.8h.29c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-.3c0-1.49 1.21-2.7 2.7-2.7s2.7 1.21 2.7 2.7v.3H17c1.1 0 2-.9 2-2v-4c1.38 0 2.5-1.12 2.5-2.5S20.38 11 19 11V7c0-1.1-.9-2-2-2h-4c0-1.38-1.12-2.5-2.5-2.5z"/></svg>
				</button>
				<button id="upload" title="Upload custom theme">
					<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><path d="M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M7,9l1.41,1.41L11,7.83V16h2V7.83l2.59,2.58L17,9l-5-5L7,9z"/></g></svg>
				</button>
			</div>
		</header>

		<main>
			<h2 id="current-header">Current theme</h2>
			<p class="loading" id="current-loader">Loading</p>

			<h2>Popular themes</h2>
			<p class="loading" id="popular-loader">Loading</p>

			<h2>All themes</h2>
			<p class="loading" id="all-loader">Loading</p>
		</main>

		<div class="modal hidden" id="update-popup">
			<div>
				<h2>Update theme?</h2>
				<p>Confirm changing theme to <span id="update-theme-name"></span>.</p>

				<div class="modal-action">
					<button class="modal-cancel">Cancel</button>
					<button id="update-confirm">Confirm</button>
				</div>
			</div>
		</div>

		<div class="modal hidden" id="upload-popup">
			<div>
				<h2>Upload theme</h2>
				<p>Select theme file.</p>

				<div>
					<input id="upload-input" type="file" accept=".json,.cfxtheme">
				</div>

				<div class="modal-action">
					<button class="modal-cancel">Cancel</button>
					<button id="upload-confirm">Upload</button>
				</div>
			</div>
		</div>

		<div class="modal hidden" id="findbyid-popup">
			<div>
				<h2>Select theme by referral</h2>
				<div>
					<input id="findbyid-input" type="text" pattern="[a-fA-F\d]{16}" placeholder="Enter theme referral code...">
				</div>

				<div class="modal-action">
					<button class="modal-cancel">Cancel</button>
					<button id="findbyid-confirm">Search</button>
				</div>
			</div>
		</div>
	</body>
</html>
